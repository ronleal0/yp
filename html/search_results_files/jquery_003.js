!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(function(e){function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=c),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var i=e(this),o=i.data(C);o||(o=new n(this,t),i.data(C,o))})}function n(t,n){function S(t){if(!(at()||e(t.target).closest(n.excludedElements,Wt).length>0)){var i,o=t.originalEvent?t.originalEvent:t,s=T?o.touches[0]:o;return Rt=w,T?Bt=o.touches.length:t.preventDefault(),Ot=0,At=null,Ht=null,Ft=0,Lt=0,Pt=0,It=1,Mt=0,Vt=dt(),zt=mt(),st(),!T||Bt===n.fingers||n.fingers===b||z()?(ct(0,s),Ut=Tt(),2==Bt&&(ct(1,o.touches[1]),Lt=Pt=bt(Vt[0].start,Vt[1].start)),(n.swipeStatus||n.pinchStatus)&&(i=O(o,Rt))):i=!1,i===!1?(Rt=_,O(o,Rt),i):(lt(!0),null)}}function $(e){var t=e.originalEvent?e.originalEvent:e;if(Rt!==k&&Rt!==_&&!rt()){var i,o=T?t.touches[0]:t,s=ut(o);if(Yt=Tt(),T&&(Bt=t.touches.length),Rt=x,2==Bt&&(0==Lt?(ct(1,t.touches[1]),Lt=Pt=bt(Vt[0].start,Vt[1].start)):(ut(t.touches[1]),Pt=bt(Vt[0].end,Vt[1].end),Ht=wt(Vt[0].end,Vt[1].end)),It=yt(Lt,Pt),Mt=Math.abs(Lt-Pt)),Bt===n.fingers||n.fingers===b||!T||z()){if(At=_t(s.start,s.end),M(e,At),Ot=xt(s.start,s.end),Ft=vt(),ft(At,Ot),(n.swipeStatus||n.pinchStatus)&&(i=O(t,Rt)),!n.triggerOnTouchEnd||n.triggerOnTouchLeave){var r=!0;if(n.triggerOnTouchLeave){var a=Ct(this);r=St(s.end,a)}!n.triggerOnTouchEnd&&r?Rt=q(x):n.triggerOnTouchLeave&&!r&&(Rt=q(k)),(Rt==_||Rt==k)&&O(t,Rt)}}else Rt=_,O(t,Rt);i===!1&&(Rt=_,O(t,Rt))}}function j(e){var t=e.originalEvent;return T&&t.touches.length>0?(ot(),!0):(rt()&&(Bt=Qt),e.preventDefault(),Yt=Tt(),Ft=vt(),L()?(Rt=_,O(t,Rt)):n.triggerOnTouchEnd||0==n.triggerOnTouchEnd&&Rt===x?(Rt=k,O(t,Rt)):!n.triggerOnTouchEnd&&X()?(Rt=k,A(t,Rt,f)):Rt===x&&(Rt=_,O(t,Rt)),lt(!1),null)}function E(){Bt=0,Yt=0,Ut=0,Lt=0,Pt=0,It=1,st(),lt(!1)}function N(e){var t=e.originalEvent;n.triggerOnTouchLeave&&(Rt=q(k),O(t,Rt))}function D(){Wt.unbind(jt,S),Wt.unbind(qt,E),Wt.unbind(Et,$),Wt.unbind(Nt,j),Dt&&Wt.unbind(Dt,N),lt(!1)}function q(e){var t=e,i=I(),o=F(),s=L();return!i||s?t=_:!o||e!=x||n.triggerOnTouchEnd&&!n.triggerOnTouchLeave?!o&&e==k&&n.triggerOnTouchLeave&&(t=_):t=k,t}function O(e,t){var n=void 0;return V()||B()?n=A(e,t,p):(W()||z())&&n!==!1&&(n=A(e,t,d)),nt()&&n!==!1?n=A(e,t,h):it()&&n!==!1?n=A(e,t,m):tt()&&n!==!1&&(n=A(e,t,f)),t===_&&E(e),t===k&&(T?0==e.touches.length&&E(e):E(e)),n}function A(t,c,u){var g=void 0;if(u==p){if(Wt.trigger("swipeStatus",[c,At||null,Ot||0,Ft||0,Bt]),n.swipeStatus&&(g=n.swipeStatus.call(Wt,t,c,At||null,Ot||0,Ft||0,Bt),g===!1))return!1;if(c==k&&R()){if(Wt.trigger("swipe",[At,Ot,Ft,Bt]),n.swipe&&(g=n.swipe.call(Wt,t,At,Ot,Ft,Bt),g===!1))return!1;switch(At){case i:Wt.trigger("swipeLeft",[At,Ot,Ft,Bt]),n.swipeLeft&&(g=n.swipeLeft.call(Wt,t,At,Ot,Ft,Bt));break;case o:Wt.trigger("swipeRight",[At,Ot,Ft,Bt]),n.swipeRight&&(g=n.swipeRight.call(Wt,t,At,Ot,Ft,Bt));break;case s:Wt.trigger("swipeUp",[At,Ot,Ft,Bt]),n.swipeUp&&(g=n.swipeUp.call(Wt,t,At,Ot,Ft,Bt));break;case r:Wt.trigger("swipeDown",[At,Ot,Ft,Bt]),n.swipeDown&&(g=n.swipeDown.call(Wt,t,At,Ot,Ft,Bt))}}}if(u==d){if(Wt.trigger("pinchStatus",[c,Ht||null,Mt||0,Ft||0,Bt,It]),n.pinchStatus&&(g=n.pinchStatus.call(Wt,t,c,Ht||null,Mt||0,Ft||0,Bt,It),g===!1))return!1;if(c==k&&H())switch(Ht){case a:Wt.trigger("pinchIn",[Ht||null,Mt||0,Ft||0,Bt,It]),n.pinchIn&&(g=n.pinchIn.call(Wt,t,Ht||null,Mt||0,Ft||0,Bt,It));break;case l:Wt.trigger("pinchOut",[Ht||null,Mt||0,Ft||0,Bt,It]),n.pinchOut&&(g=n.pinchOut.call(Wt,t,Ht||null,Mt||0,Ft||0,Bt,It))}}return u==f?(c===_||c===k)&&(clearTimeout(Kt),Q()&&!J()?(Gt=Tt(),Kt=setTimeout(e.proxy(function(){Gt=null,Wt.trigger("tap",[t.target]),n.tap&&(g=n.tap.call(Wt,t,t.target))},this),n.doubleTapThreshold)):(Gt=null,Wt.trigger("tap",[t.target]),n.tap&&(g=n.tap.call(Wt,t,t.target)))):u==h?(c===_||c===k)&&(clearTimeout(Kt),Gt=null,Wt.trigger("doubletap",[t.target]),n.doubleTap&&(g=n.doubleTap.call(Wt,t,t.target))):u==m&&(c===_||c===k)&&(clearTimeout(Kt),Gt=null,Wt.trigger("longtap",[t.target]),n.longTap&&(g=n.longTap.call(Wt,t,t.target))),g}function F(){var e=!0;return null!==n.threshold&&(e=Ot>=n.threshold),e}function L(){var e=!1;return null!==n.cancelThreshold&&null!==At&&(e=ht(At)-Ot>=n.cancelThreshold),e}function P(){return null!==n.pinchThreshold?Mt>=n.pinchThreshold:!0}function I(){var e;return e=n.maxTimeThreshold?Ft>=n.maxTimeThreshold?!1:!0:!0}function M(e,t){if(n.allowPageScroll===c||z())e.preventDefault();else{var a=n.allowPageScroll===u;switch(t){case i:(n.swipeLeft&&a||!a&&n.allowPageScroll!=g)&&e.preventDefault();break;case o:(n.swipeRight&&a||!a&&n.allowPageScroll!=g)&&e.preventDefault();break;case s:(n.swipeUp&&a||!a&&n.allowPageScroll!=v)&&e.preventDefault();break;case r:(n.swipeDown&&a||!a&&n.allowPageScroll!=v)&&e.preventDefault()}}}function H(){var e=U(),t=Y(),n=P();return e&&t&&n}function z(){return!!(n.pinchStatus||n.pinchIn||n.pinchOut)}function W(){return!(!H()||!z())}function R(){var e=I(),t=F(),n=U(),i=Y(),o=L(),s=!o&&i&&n&&t&&e;return s}function B(){return!!(n.swipe||n.swipeStatus||n.swipeLeft||n.swipeRight||n.swipeUp||n.swipeDown)}function V(){return!(!R()||!B())}function U(){return Bt===n.fingers||n.fingers===b||!T}function Y(){return 0!==Vt[0].end.x}function X(){return!!n.tap}function Q(){return!!n.doubleTap}function G(){return!!n.longTap}function K(){if(null==Gt)return!1;var e=Tt();return Q()&&e-Gt<=n.doubleTapThreshold}function J(){return K()}function Z(){return!(1!==Bt&&T||!isNaN(Ot)&&0!==Ot)}function et(){return Ft>n.longTapThreshold&&y>Ot}function tt(){return!(!Z()||!X())}function nt(){return!(!K()||!Q())}function it(){return!(!et()||!G())}function ot(){Xt=Tt(),Qt=event.touches.length+1}function st(){Xt=0,Qt=0}function rt(){var e=!1;if(Xt){var t=Tt()-Xt;t<=n.fingerReleaseThreshold&&(e=!0)}return e}function at(){return!(Wt.data(C+"_intouch")!==!0)}function lt(e){e===!0?(Wt.bind(Et,$),Wt.bind(Nt,j),Dt&&Wt.bind(Dt,N)):(Wt.unbind(Et,$,!1),Wt.unbind(Nt,j,!1),Dt&&Wt.unbind(Dt,N,!1)),Wt.data(C+"_intouch",e===!0)}function ct(e,t){var n=void 0!==t.identifier?t.identifier:0;return Vt[e].identifier=n,Vt[e].start.x=Vt[e].end.x=t.pageX||t.clientX,Vt[e].start.y=Vt[e].end.y=t.pageY||t.clientY,Vt[e]}function ut(e){var t=void 0!==e.identifier?e.identifier:0,n=pt(t);return n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function pt(e){for(var t=0;t<Vt.length;t++)if(Vt[t].identifier==e)return Vt[t]}function dt(){for(var e=[],t=0;5>=t;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}function ft(e,t){t=Math.max(t,ht(e)),zt[e].distance=t}function ht(e){return zt[e]?zt[e].distance:void 0}function mt(){var e={};return e[i]=gt(i),e[o]=gt(o),e[s]=gt(s),e[r]=gt(r),e}function gt(e){return{direction:e,distance:0}}function vt(){return Yt-Ut}function bt(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function yt(e,t){var n=1*(t/e);return n.toFixed(2)}function wt(){return 1>It?l:a}function xt(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function kt(e,t){var n=e.x-t.x,i=t.y-e.y,o=Math.atan2(i,n),s=Math.round(180*o/Math.PI);return 0>s&&(s=360-Math.abs(s)),s}function _t(e,t){var n=kt(e,t);return 45>=n&&n>=0?i:360>=n&&n>=315?i:n>=135&&225>=n?o:n>45&&135>n?r:s}function Tt(){var e=new Date;return e.getTime()}function Ct(t){t=e(t);var n=t.offset(),i={left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()};return i}function St(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}var $t=T||!n.fallbackToMouseEvents,jt=$t?"touchstart":"mousedown",Et=$t?"touchmove":"mousemove",Nt=$t?"touchend":"mouseup",Dt=$t?null:"mouseleave",qt="touchcancel",Ot=0,At=null,Ft=0,Lt=0,Pt=0,It=1,Mt=0,Ht=0,zt=null,Wt=e(t),Rt="start",Bt=0,Vt=null,Ut=0,Yt=0,Xt=0,Qt=0,Gt=0,Kt=null;try{Wt.bind(jt,S),Wt.bind(qt,E)}catch(Jt){e.error("events not supported "+jt+","+qt+" on jQuery.swipe")}this.enable=function(){return Wt.bind(jt,S),Wt.bind(qt,E),Wt},this.disable=function(){return D(),Wt},this.destroy=function(){return D(),Wt.data(C,null),Wt},this.option=function(t,i){if(void 0!==n[t]){if(void 0===i)return n[t];n[t]=i}else e.error("Option "+t+" does not exist on jQuery.swipe.options");return null}}var i="left",o="right",s="up",r="down",a="in",l="out",c="none",u="auto",p="swipe",d="pinch",f="tap",h="doubletap",m="longtap",g="horizontal",v="vertical",b="all",y=10,w="start",x="move",k="end",_="cancel",T="ontouchstart"in window,C="TouchSwipe",S={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};e.fn.swipe=function(n){var i=e(this),o=i.data(C);if(o&&"string"==typeof n){if(o[n])return o[n].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+n+" does not exist on jQuery.swipe")}else if(!(o||"object"!=typeof n&&n))return t.apply(this,arguments);return i},e.fn.swipe.defaults=S,e.fn.swipe.phases={PHASE_START:w,PHASE_MOVE:x,PHASE_END:k,PHASE_CANCEL:_},e.fn.swipe.directions={LEFT:i,RIGHT:o,UP:s,DOWN:r,IN:a,OUT:l},e.fn.swipe.pageScroll={NONE:c,HORIZONTAL:g,VERTICAL:v,AUTO:u},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:b}});